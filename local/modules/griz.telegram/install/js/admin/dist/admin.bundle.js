this.BX=this.BX||{},this.BX.Anz=this.BX.Anz||{},function(t,n,e){"use strict";var o={ajaxUrl:"/bitrix/services/main/ajax.php",controller:"anz:appointment.oneCController",requestParams:{method:"POST",body:""},options:BX.Extension.getSettings("anz.appointment.admin"),deleteRecord:function(t,n,e){this.runAction(t,n,e,"deleteOrder")},updateRecord:function(t,n,e){this.runAction(t,n,e,"getOrderStatus")},runAction:function(t,n,e,o){var i=this,a=BX.Main.gridManager.getInstanceById(n);a&&a.tableFade();var r="".concat(this.controller,".").concat(o);this.requestParams.body=this.createFormData({id:t,orderUid:e}),fetch("".concat(this.ajaxUrl,"?action=").concat(r),this.requestParams).then((function(t){if(t.ok)return t.json();console.log("Error. Status code ".concat(t.status))})).then((function(t){t.status})).catch((function(t){return console.log(t)})).finally((function(){if(a){var t=babelHelpers.defineProperty({},n,"page-".concat(i.getGridCurrentPage(a)));a.baseUrl=BX.Grid.Utils.addUrlParams(a.baseUrl,t),a.reloadTable("POST",{apply_filter:"Y",clear_nav:"N"})}}))},createFormData:function(t){var n=new FormData;for(var e in t)t.hasOwnProperty(e)&&n.set(e,t[e]);return n.set("sessid",BX.bitrix_sessid()),n},getGridCurrentPage:function(t){var n,e=0;if(BX.type.isDomNode(null==t||null===(n=t.data)||void 0===n?void 0:n.pagination)){var o=t.data.pagination.querySelector(".main-ui-pagination-active");o&&(e=isNaN(parseInt(o.textContent))?0:parseInt(o.textContent))}return e},bindColorPickerToNode:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=BX(t),i=BX(n);BX.bind(o,"click",(function(){new BX.ColorPicker({bindElement:o,defaultColor:null!=e?e:"#FFFFFF",allowCustomColor:!0,onColorSelected:function(t){i.value=t},popupOptions:{angle:!0,autoHide:!0,closeByEsc:!0,events:{onPopupClose:function(){}}}}).open()}))},activateInputs:function(){var t=this,n={customMainBtnCheckbox:BX(this.options.customMainBtnCheckboxId)},e=function(e){if(n.hasOwnProperty(e)&&"customMainBtnCheckbox"===e)n[e]&&(t.changeInputsState(n[e]),n[e].addEventListener("change",(function(){return t.changeInputsState(n[e])})))};for(var o in n)e(o)},changeInputsState:function(t){var n=BX(this.options.customMainBtnInputId),e=BX(this.options.startBtnBgColorInput),o=BX(this.options.startBtnTextColorInput);t.checked?(n.removeAttribute("disabled"),e.setAttribute("disabled",!0),o.setAttribute("disabled",!0)):(n.setAttribute("disabled",!0),e.removeAttribute("disabled"),o.removeAttribute("disabled"))}};t.Admin=o}(this.BX.Anz.Appointment=this.BX.Anz.Appointment||{},BX);
//# sourceMappingURL=admin.bundle.js.map
